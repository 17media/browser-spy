{"version":3,"file":"index.js","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../src/utils/loadScript.ts","../src/utils/object.ts","../src/Agent.ts","../src/utils/dom.ts","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../node_modules/qs/lib/index.js","../node_modules/uuid/dist/esm-node/rng.js","../node_modules/uuid/dist/esm-node/regex.js","../node_modules/uuid/dist/esm-node/validate.js","../node_modules/uuid/dist/esm-node/stringify.js","../node_modules/uuid/dist/esm-node/v4.js","../src/utils/param.ts","../src/Source.ts","../src/types.ts","../src/utils/constants.ts","../node_modules/intersection-observer/intersection-observer.js","../src/Observer.ts","../src/hooks.ts","../src/actions.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined; // More compressible than void 0.\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []);\n\n  // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n  return generator;\n}\n\n// Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return { type: \"normal\", arg: fn.call(obj, arg) };\n  } catch (err) {\n    return { type: \"throw\", arg: err };\n  }\n}\n\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\";\n\n// Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\nvar ContinueSentinel = {};\n\n// Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\nfunction Generator() {}\nfunction GeneratorFunction() {}\nfunction GeneratorFunctionPrototype() {}\n\n// This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\nvar IteratorPrototype = {};\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\n\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\nif (NativeIteratorPrototype &&\n  NativeIteratorPrototype !== Op &&\n  hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\n\nvar Gp = GeneratorFunctionPrototype.prototype =\n  Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] =\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n// Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function(method) {\n    prototype[method] = function(arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\n\nfunction isGeneratorFunction (genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor\n    ? ctor === GeneratorFunction ||\n    // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n    : false;\n};\n\nfunction mark (genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n};\n\n// Within the body of any async function, `await x` is transformed to\n// `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\nfunction awrap (arg) {\n  return { __await: arg };\n};\n\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n      if (value &&\n        typeof value === \"object\" &&\n        hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function(value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n\n      return PromiseImpl.resolve(value).then(function(unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function(error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n\n  var previousPromise;\n\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function(resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n\n    return previousPromise =\n      // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(\n        callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg\n      ) : callInvokeWithMethodAndArg();\n  }\n\n  // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n  this._invoke = enqueue;\n}\n\ndefineIteratorMethods(AsyncIterator.prototype);\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n};\n\n// Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n function async (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n  var iter = new AsyncIterator(\n    wrap(innerFn, outerFn, self, tryLocsList),\n    PromiseImpl\n  );\n\n  return isGeneratorFunction(outerFn)\n    ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n};\n\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      }\n\n      // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n      return doneResult();\n    }\n\n    context.method = method;\n    context.arg = arg;\n\n    while (true) {\n      var delegate = context.delegate;\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n\n        context.dispatchException(context.arg);\n\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n\n      state = GenStateExecuting;\n\n      var record = tryCatch(innerFn, self, context);\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done\n          ? GenStateCompleted\n          : GenStateSuspendedYield;\n\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n\n        return {\n          value: record.arg,\n          done: context.done\n        };\n\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted;\n        // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n}\n\n// Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n  if (method === undefined) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n\n      context.method = \"throw\";\n      context.arg = new TypeError(\n        \"The iterator does not provide a 'throw' method\");\n    }\n\n    return ContinueSentinel;\n  }\n\n  var record = tryCatch(method, delegate.iterator, context.arg);\n\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  var info = record.arg;\n\n  if (! info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value;\n\n    // Resume execution at the desired location (see delegateYield).\n    context.next = delegate.nextLoc;\n\n    // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined;\n    }\n\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  }\n\n  // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n  context.delegate = null;\n  return ContinueSentinel;\n}\n\n// Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\ndefineIteratorMethods(Gp);\n\nGp[toStringTagSymbol] = \"Generator\";\n\n// A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\nGp[iteratorSymbol] = function() {\n  return this;\n};\n\nGp.toString = function() {\n  return \"[object Generator]\";\n};\n\nfunction pushTryEntry(locs) {\n  var entry = { tryLoc: locs[0] };\n\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n\n  this.tryEntries.push(entry);\n}\n\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\n\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{ tryLoc: \"root\" }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\n\nfunction keys (object) {\n  var keys = [];\n  for (var key in object) {\n    keys.push(key);\n  }\n  keys.reverse();\n\n  // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    }\n\n    // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n    next.done = true;\n    return next;\n  };\n};\n\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n\n    if (!isNaN(iterable.length)) {\n      var i = -1, next = function next() {\n        while (++i < iterable.length) {\n          if (hasOwn.call(iterable, i)) {\n            next.value = iterable[i];\n            next.done = false;\n            return next;\n          }\n        }\n\n        next.value = undefined;\n        next.done = true;\n\n        return next;\n      };\n\n      return next.next = next;\n    }\n  }\n\n  // Return an iterator with no values.\n  return { next: doneResult };\n}\n\nfunction doneResult() {\n  return { value: undefined, done: true };\n}\n\nContext.prototype = {\n  constructor: Context,\n\n  reset: function(skipTempReset) {\n    this.prev = 0;\n    this.next = 0;\n    // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n    this.sent = this._sent = undefined;\n    this.done = false;\n    this.delegate = null;\n\n    this.method = \"next\";\n    this.arg = undefined;\n\n    this.tryEntries.forEach(resetTryEntry);\n\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" &&\n          hasOwn.call(this, name) &&\n          !isNaN(+name.slice(1))) {\n          this[name] = undefined;\n        }\n      }\n    }\n  },\n\n  stop: function() {\n    this.done = true;\n\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n\n    return this.rval;\n  },\n\n  dispatchException: function(exception) {\n    if (this.done) {\n      throw exception;\n    }\n\n    var context = this;\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n      return !! caught;\n    }\n\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n\n  abrupt: function(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc <= this.prev &&\n        hasOwn.call(entry, \"finallyLoc\") &&\n        this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n\n    if (finallyEntry &&\n      (type === \"break\" ||\n        type === \"continue\") &&\n      finallyEntry.tryLoc <= arg &&\n      arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n\n    return this.complete(record);\n  },\n\n  complete: function(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n\n    if (record.type === \"break\" ||\n      record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n\n    return ContinueSentinel;\n  },\n\n  finish: function(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n\n  \"catch\": function(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n        return thrown;\n      }\n    }\n\n    // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n    throw new Error(\"illegal catch attempt\");\n  },\n\n  delegateYield: function(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined;\n    }\n\n    return ContinueSentinel;\n  }\n};\n\n// Export a default namespace that plays well with Rollup\nexport default {\n  wrap,\n  isGeneratorFunction,\n  AsyncIterator,\n  mark,\n  awrap,\n  async,\n  keys,\n  values\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export function loadScript(src: string) {\n  const script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.defer = true;\n  script.src = src;\n\n  const firstScript = document.getElementsByTagName('script')[0];\n  firstScript.parentNode!.insertBefore(script, firstScript);\n\n  return new Promise((resolve, reject) => {\n    script.onload = resolve;\n    script.onerror = reject;\n  });\n}\n\nexport function loadScripts(...src: string[]) {\n  return Promise.all(src.map(loadScript));\n}\n","export function trim(object: Record<string, any>) {\n  for (const key in object) {\n    if (typeof object[key] === 'undefined') {\n      delete object[key];\n    }\n    if (object[key] === null) {\n      delete object[key];\n    }\n  }\n}\n\nexport function convertStringToSankecase(str: string) {\n  const upperCaseMap = new Map();\n  const strArray = Array.from(str);\n  strArray.forEach((char, index) => {\n    const currentCharCode = char.charCodeAt(0);\n    const asciiCodeA = 'A'.charCodeAt(0);\n    const asciiCodeZ = 'Z'.charCodeAt(0);\n    if (currentCharCode >= asciiCodeA && currentCharCode <= asciiCodeZ) {\n      upperCaseMap.set(index, char);\n    }\n  });\n  upperCaseMap.forEach((value, key) => {\n    strArray[key] = `_${value.toLowerCase()}`;\n  });\n  return strArray.join('');\n}\n\nexport function convertParamsToSankecase<T>(params: T) {\n  return Object.keys(params).reduce((prev: Record<string, any>, key: string) => {\n    const currentParams = prev;\n    const snakecaseKey = convertStringToSankecase(key);\n    currentParams[snakecaseKey] = (params as any)[key];\n    return currentParams;\n  }, {});\n}\n","/* eslint-disable @typescript-eslint/camelcase */\n\nimport { loadScript, loadScripts } from 'utils/loadScript';\nimport * as object from 'utils/object';\nimport { TrackingEvent, TransitionEvent, LoginEvent, SpyEvent } from 'types';\nimport type { analytics } from 'firebase';\n\nenum AgentState {\n  Uninitialized,\n  Initializing,\n  Initialized,\n  InitializeFail,\n}\n\ndeclare var firebase: any;\n\nexport abstract class Agent {\n  protected state = AgentState.Uninitialized;\n\n  async initialize() {\n    if (this.state !== AgentState.Uninitialized) return;\n\n    this.state = AgentState.Initializing;\n\n    try {\n      await this.doInitialize();\n      this.state = AgentState.Initialized;\n    } catch (error) {\n      console.error(error);\n      this.state = AgentState.InitializeFail;\n    }\n  }\n\n  abstract report(event: SpyEvent): void;\n\n  protected abstract doInitialize(): Promise<void> | void;\n}\n\nlet isInit = false;\n\nexport class FirebaseAgent extends Agent {\n  private client!: analytics.Analytics;\n\n  private queue: Array<() => void> = [];\n\n  /**\n   * @param config @see https://support.google.com/firebase/answer/7015592\n   */\n  constructor(readonly config: any) {\n    super();\n  }\n\n  async doInitialize() {\n    await loadScripts(\n      'https://www.gstatic.com/firebasejs/7.14.1/firebase-app.js',\n      'https://www.gstatic.com/firebasejs/7.14.1/firebase-analytics.js',\n    );\n\n    if (!isInit) {\n      this.client = firebase.initializeApp(this.config).analytics();\n      isInit = true;\n    } else {\n      this.client = firebase.analytics();\n    }\n\n    this.queue.forEach(callback => callback());\n\n    this.queue = [];\n  }\n\n  report(event: SpyEvent) {\n    this.queueIfNotInitialized(() => this.doReport(event));\n  }\n\n  private doReport(event: SpyEvent) {\n    switch (event.type) {\n      case 'login':\n        return this.login(event);\n      case 'tracking':\n        return this.track(event);\n      case 'transition':\n        return this.transit(event);\n      default:\n        break;\n    }\n  }\n\n  private login(event: LoginEvent) {\n    const { userId } = event;\n    this.client.setUserId(userId, { global: true });\n    if (userId) this.client.logEvent('login', { userId });\n  }\n\n  private transit(event: TransitionEvent) {\n    const { toScene, defaultTrackingParams } = event;\n    const { title, hostname, pathname } = toScene;\n    this.client.logEvent('page_view', {\n      page_title: title,\n      page_location: hostname,\n      page_path: pathname,\n      ...object.convertParamsToSankecase(defaultTrackingParams),\n    });\n    this.client.setCurrentScreen(event.toScene.title, { global: true });\n  }\n\n  private track(event: TrackingEvent) {\n    const { eventName, trackingParams = {} } = event;\n    object.trim(trackingParams);\n    this.client.logEvent(eventName, object.convertParamsToSankecase(trackingParams));\n  }\n\n  private queueIfNotInitialized(callback: () => void) {\n    if (this.state === AgentState.Initialized) callback();\n    else this.queue.push(callback);\n  }\n}\n\nexport interface MatomoAgentConfig {\n  endpoint: string;\n  siteId: string;\n}\n\nexport class MatomoAgent extends Agent {\n  private client = window._paq || [];\n\n  private trackPageViewTimer = 0;\n\n  constructor(readonly config: MatomoAgentConfig) {\n    super();\n\n    window._paq = window._paq || []; // eslint-disable-line no-underscore-dangle\n    this.client = window._paq; // eslint-disable-line no-underscore-dangle\n  }\n\n  async doInitialize() {\n    this.client.push(['setTrackerUrl', `${this.config.endpoint}matomo.php`]);\n    this.client.push(['setSiteId', this.config.siteId]);\n    this.client.push(['trackPageView']);\n    this.client.push(['enableLinkTracking']);\n    this.client.push(['trackAllContentImpressions']);\n    await loadScript(`${this.config.endpoint}piwik.js`);\n  }\n\n  report(event: SpyEvent) {\n    switch (event.type) {\n      case 'login':\n        return this.login(event);\n      case 'tracking':\n        return this.track(event);\n      case 'transition':\n        return this.transit(event);\n      default:\n        break;\n    }\n  }\n\n  private login(event: LoginEvent) {\n    const { userId } = event;\n    if (userId) this.client.push(['setUserId', userId]);\n    else this.client.push(['resetUserId']);\n    this.requestTrackPageView();\n  }\n\n  private transit(event: TransitionEvent) {\n    const { fromScene, toScene } = event;\n    this.client.push(['setReferrerUrl', `${fromScene.hostname}${fromScene.pathname}`]);\n    this.client.push(['setCustomUrl', `${toScene.hostname}${fromScene.pathname}`]);\n    this.client.push(['setDocumentTitle', toScene.title]);\n    this.client.push(['setGenerationTimeMs', 0]);\n    this.requestTrackPageView();\n    this.client.push(['enableLinkTracking']);\n    this.client.push(['trackAllContentImpressions']);\n  }\n\n  private track(event: TrackingEvent) {\n    /**\n     * ref : https://developer.matomo.org/guides/tracking-javascript\n     * trackEvent(category, action, [name], [value]) -\n     * Log an event with an event category (Videos, Music, Games...), an event action (Play, Pause, Duration, Add Playlist, Downloaded, Clicked...), and an optional event name and optional numeric value.\n     */\n    const { eventName, category, trackingParams = {} } = event;\n    const { name = '', value = '' } = trackingParams;\n    this.client.push(['trackEvent', category, eventName, name, value]);\n  }\n\n  private requestTrackPageView() {\n    if (this.trackPageViewTimer) clearTimeout(this.trackPageViewTimer);\n    this.trackPageViewTimer = setTimeout(() => {\n      this.client.push(['trackPageView']);\n      this.trackPageViewTimer = 0;\n    });\n  }\n}\n","const tagNameRole: Record<string, string | undefined> = {\n  alert: 'alert',\n  alertdialog: 'alertdialog',\n  application: 'application',\n  article: 'article',\n  banner: 'banner',\n  button: 'button',\n  cell: 'cell',\n  checkbox: 'checkbox',\n  columnheader: 'columnheader',\n  combobox: 'combobox',\n  command: 'command',\n  complementary: 'complementary',\n  composite: 'composite',\n  contentinfo: 'contentinfo',\n  definition: 'definition',\n  dialog: 'dialog',\n  directory: 'directory',\n  document: 'document',\n  feed: 'feed',\n  figure: 'figure',\n  form: 'form',\n  grid: 'grid',\n  gridcell: 'gridcell',\n  group: 'group',\n  heading: 'heading',\n  img: 'img',\n  input: 'input',\n  landmark: 'landmark',\n  link: 'link',\n  list: 'list',\n  listbox: 'listbox',\n  listitem: 'listitem',\n  log: 'log',\n  main: 'main',\n  'The main content of a document.': 'The main content of a document.',\n  marquee: 'marquee',\n  math: 'math',\n  'Content that represents a mathematical expression.': 'Content that represents a mathematical expression.',\n  menu: 'menu',\n  menubar: 'menubar',\n  menuitem: 'menuitem',\n  menuitemcheckbox: 'menuitemcheckbox',\n  menuitemradio: 'menuitemradio',\n  navigation: 'navigation',\n  none: 'none',\n  note: 'note',\n  option: 'option',\n  presentation: 'presentation',\n  progressbar: 'progressbar',\n  radio: 'radio',\n  radiogroup: 'radiogroup',\n  range: 'range',\n  region: 'region',\n  roletype: 'roletype',\n  row: 'row',\n  rowgroup: 'rowgroup',\n  rowheader: 'rowheader',\n  scrollbar: 'scrollbar',\n  search: 'search',\n  searchbox: 'searchbox',\n  section: 'section',\n  sectionhead: 'sectionhead',\n  select: 'select',\n  separator: 'separator',\n  slider: 'slider',\n  spinbutton: 'spinbutton',\n  status: 'status',\n  structure: 'structure',\n  switch: 'switch',\n  tab: 'tab',\n  table: 'table',\n  tablist: 'tablist',\n  tabpanel: 'tabpanel',\n  term: 'term',\n  textbox: 'textbox',\n  timer: 'timer',\n  toolbar: 'toolbar',\n  tooltip: 'tooltip',\n  tree: 'tree',\n  treegrid: 'treegrid',\n  treeitem: 'treeitem',\n  widget: 'widget',\n  window: 'window',\n};\n\nexport function guessRole(element: HTMLElement) {\n  return element.getAttribute('role') || tagNameRole[element.tagName] || 'unknown';\n}\n\nexport function getContent(element: HTMLElement) {\n  return element.innerText;\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        }).join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj; // eslint-disable-line no-param-reassign\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import qs from 'qs';\nimport { v4 } from 'uuid';\nimport { Scene, DefaultEventParams, RefinedEventPathname, TrackingToken } from 'types';\n\nfunction getUserID() {\n  const qsUserID = qs.parse(window.location.search, { ignoreQueryPrefix: true }).userID;\n  if (Array.isArray(qsUserID)) {\n    return sessionStorage.getItem('userID') || 'guest';\n  }\n  // The order of checking UserID.\n  // 1. sessionStorage\n  // 2. query string\n  return sessionStorage.getItem('userID') || `${qsUserID}` || 'guest';\n}\n\nfunction createTrackingToken() {\n  const storageKey = 'trackingToken';\n  const days30 = 60 * 60 * 24 * 30 * 1000;\n  const newTrackingToken: TrackingToken = {\n    sessionID: v4(),\n    date: Date.now(),\n  };\n\n  try {\n    const trackingToken = JSON.parse(localStorage.getItem(storageKey) || '') as TrackingToken;\n    const { date, sessionID } = trackingToken;\n    // Expired checking (after 30 days)\n    if (Date.now() - date < days30) return sessionID;\n\n    localStorage.setItem(storageKey, JSON.stringify(newTrackingToken));\n  } catch (error) {\n    localStorage.setItem(storageKey, JSON.stringify(newTrackingToken));\n  }\n  return newTrackingToken.sessionID;\n}\n\nexport function createScene(): Scene {\n  const { title } = window.document;\n  const { hostname, pathname } = window.location;\n  return { title, hostname, pathname };\n}\n\nexport function refineEventPathname(pathname: string): RefinedEventPathname {\n  const slashCount = pathname.match(/-/g)?.length;\n  if (slashCount && slashCount >= 3) {\n    // slashCount === 3+\n    const pathnameArray = pathname.split('-');\n    const eventId = pathnameArray[0];\n    const codename = pathnameArray.splice(1, pathnameArray.length).join('-');\n    return { eventId, codename };\n  }\n  return { eventId: '', codename: pathname };\n}\n\nexport function createDefaultEventParams(): DefaultEventParams {\n  const codenameArray = window.location.pathname.split('/');\n  const eventPathname = codenameArray.length > 1 ? codenameArray[1] : '';\n  const { eventId, codename } = refineEventPathname(eventPathname);\n  const trackingToken = createTrackingToken();\n\n  return {\n    userId: getUserID(),\n    lang: navigator.language || '',\n    os: navigator.userAgent || '',\n    timestamp: Date.now(),\n    codename,\n    eventId,\n    guestSessionId: trackingToken,\n  };\n}\n","import { TransitionEvent, TrackingEvent, TrackingEventParams, Scene, SpyEvent } from 'types';\nimport { Agent } from 'Agent';\nimport { History } from 'history';\nimport * as dom from 'utils/dom';\nimport { createScene, createDefaultEventParams } from 'utils/param';\n\nexport interface Source {\n  addAgent(agent: Agent): void;\n}\n\nexport class DefaultSource implements Source {\n  private agents: Agent[] = [];\n\n  private currentScene: Scene = createScene();\n\n  addAgent(agent: Agent) {\n    agent.initialize();\n    this.agents.push(agent);\n  }\n\n  spyTransition(history: History) {\n    // wait for whole page updated\n    // init page_view\n    setTimeout(() => this.transit(createScene()), 100);\n    history.listen(() => {\n      const { action } = history;\n      // Filtering replace action (The pushed url is not matching, ex: Redirect)\n      if (action === 'PUSH') {\n        setTimeout(() => this.transit(createScene()), 100);\n      }\n    });\n  }\n\n  spyClick() {\n    window.addEventListener('click', event => {\n      const { target } = event;\n      if (target instanceof HTMLElement) {\n        this.track({\n          eventName: 'click',\n          category: 'default',\n          trackingParams: {\n            name: dom.getContent(target),\n            value: '',\n            role: dom.guessRole(target),\n          },\n        });\n      }\n    });\n  }\n\n  // tracking page visibility. e.g. page minimized, change browser tab or page unload\n  spyPageDurationByVisible(params?: TrackingEventParams) {\n    let startDurationTime: number = 0;\n\n    const handleVisibleChange = (e: Event) => {\n      if (document.visibilityState === 'hidden') {\n        const endDurationTime = e.timeStamp;\n        const duration = Math.floor(endDurationTime - startDurationTime);\n        this.track({\n          eventName: 'pageView',\n          category: 'default',\n          trackingParams: {\n            url: window.location.href,\n            duration,\n            ...params,\n          },\n        });\n      }\n      if (document.visibilityState === 'visible') {\n        startDurationTime = e.timeStamp;\n      }\n    };\n    document.addEventListener('visibilitychange', handleVisibleChange);\n  }\n\n  spyPageDurationByTransition(history: History, params?: TrackingEventParams) {\n    let startDurationTime: number = Date.now();\n    let url = window.location.href;\n    history.listen(() => {\n      const endDurationTime: number = Date.now();\n      const duration = Math.floor(endDurationTime - startDurationTime);\n      this.track({\n        eventName: 'pageView',\n        category: 'default',\n        trackingParams: {\n          url,\n          duration,\n          ...params,\n        },\n      });\n      startDurationTime = endDurationTime;\n      url = window.location.href;\n    });\n  }\n\n  login(userId: string) {\n    this.report({ type: 'login', userId });\n  }\n\n  transit(toScene: Scene) {\n    const fromScene = this.currentScene;\n    const event: TransitionEvent = {\n      type: 'transition',\n      fromScene,\n      toScene,\n      defaultTrackingParams: createDefaultEventParams(),\n    };\n    this.report(event);\n  }\n\n  track(event: Omit<TrackingEvent, 'type'>) {\n    const { trackingParams } = event;\n    const defaultParams = trackingParams?.hasOwnProperty('productName') ? {} : createDefaultEventParams();\n    const mergedTrackingParams = {\n      ...defaultParams,\n      ...trackingParams,\n    };\n    event.trackingParams = mergedTrackingParams;\n    this.report({ type: 'tracking', ...event });\n  }\n\n  private report(event: SpyEvent) {\n    this.agents.forEach(agent => {\n      try {\n        agent.report(event);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  }\n}\n","export enum Threshold {\n  'MIN' = 0,\n  'HALF' = 0.5,\n  'FULL' = 1,\n}\n\nexport interface Scene {\n  title: string;\n  hostname: string;\n  pathname: string;\n}\n\nexport interface TransitionEvent {\n  type: 'transition';\n  fromScene: Scene;\n  toScene: Scene;\n  defaultTrackingParams: DefaultEventParams;\n}\n\nexport interface TrackingToken {\n  sessionID: string;\n  date: number;\n}\n\nexport interface TrackingEventParams {\n  userId?: string;\n  lang?: string;\n  os?: string;\n  eventId?: string;\n  timestamp?: number;\n  action?: string;\n  name?: string;\n  role?: string;\n  value?: string;\n  page?: string;\n  type?: string;\n  leaderboardId?: string;\n  streamerId?: string;\n  liveStatus?: boolean;\n  section?: string;\n  rank?: number;\n  to?: string;\n  url?: string;\n  utmCampaign?: string;\n  utmContent?: string;\n  utmMedium?: string;\n  utmSource?: string;\n  searchString?: string;\n  resultCount?: number;\n  hasDeeplink?: boolean;\n  codename?: string;\n  productName?: string;\n  userName?: string;\n  from?: string;\n  result?: string;\n  duration?: number;\n  customPath?: string;\n}\nexport interface TrackingEvent {\n  type: 'tracking';\n  eventName: string;\n  category: string;\n  trackingParams?: TrackingEventParams;\n}\n\nexport interface DefaultEventParams {\n  userId: string;\n  lang: string;\n  os: string;\n  eventId: string;\n  timestamp: number;\n  codename: string;\n  guestSessionId: string;\n}\n\nexport interface LoginEvent {\n  type: 'login';\n  userId: string;\n}\n\nexport interface RefinedEventPathname {\n  eventId: string;\n  codename: string;\n}\n\nexport type ElementMap = Map<Element, Function>;\n\nexport type SpyEvent = TrackingEvent | TransitionEvent | LoginEvent;\n\nexport type EventCallback<T> = (event: T) => void;\n\nexport type EventListener<T> = (callback: EventCallback<T>) => void;\n","export const EVENT_NAME_CLICK = 'click';\nexport const EVENT_NAME_ENTER = 'enter';\nexport const EVENT_NAME_LEAVE = 'leave';\nexport const EVENT_NAME_SEARCH = 'search';\nexport const EVENT_NAME_SECTION_VIEW = 'section_view';\n\nexport const CATEGORY_DEFAULT = 'default';\n\nexport const ACTION_BUTTON_CLICK = 'ButtonClick';\nexport const ACTION_TAB_CLICK = 'TabClick';\nexport const ACTION_PROFILE_CLICK = 'ProfileClick';\nexport const ACTION_LINK_CLICK = 'LinkClick';\nexport const ACTION_ENTER = 'enter';\n\nexport const __CLIENT__ = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * A local reference to the document.\n */\nvar document = window.document;\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  if (doc != (this.root && this.root.ownerDocument || document)) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc = (this.root && this.root.ownerDocument || document);\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: crossOriginUpdater && !this.root ? null : rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target) &&\n    (!this.root || this.root.ownerDocument == target.ownerDocument);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  if (parent && parent.assignedSlot) {\n    // If the parent is distributed in a <slot>, return the parent of a slot.\n    return parent.assignedSlot.parentNode;\n  }\n\n  return parent;\n}\n\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","import { RefObject } from 'react';\nimport { ElementMap, Threshold } from './types';\nimport { __CLIENT__ } from './utils/constants';\nimport 'intersection-observer';\n\nclass SectionObserver {\n  public elementMap: ElementMap;\n\n  private observer: IntersectionObserver | undefined;\n\n  private debounceExecute: number;\n\n  constructor(debounce: boolean, threshold: Threshold) {\n    this.elementMap = new Map();\n    this.debounceExecute = 0;\n    try {\n      this.observer = new window.IntersectionObserver(\n        entries => {\n          if (debounce) {\n            this.debounceSectionIntersect(entries);\n          } else {\n            this.sectionIntersect(entries);\n          }\n        },\n        {\n          threshold: [threshold],\n        },\n      );\n    } catch (error) {\n      console.log(`Error occur when creating IntersectionObserver: ${error}`);\n    }\n  }\n\n  sectionObserve(ref: RefObject<any>, callback: Function) {\n    if (this.observer) this.observer.observe(ref.current);\n    this.elementMap.set(ref.current, callback);\n  }\n\n  sectionUnobserve(ref: RefObject<any>) {\n    if (this.observer) this.observer.unobserve(ref.current);\n    if (this.elementMap.has(ref.current)) this.elementMap.delete(ref.current);\n  }\n\n  resetSectionObserver() {\n    this.elementMap.forEach((value, key) => {\n      if (this.observer) this.observer.observe(key);\n    });\n  }\n\n  private sectionIntersect(entries: IntersectionObserverEntry[]) {\n    entries.forEach(entry => {\n      const { target } = entry;\n      if (entry.isIntersecting && this.elementMap.has(target)) {\n        const callback = this.elementMap.get(target);\n        if (!callback) return;\n\n        callback();\n\n        if (this.observer) this.observer.unobserve(target);\n      }\n    });\n  }\n\n  private debounceSectionIntersect(entries: IntersectionObserverEntry[]) {\n    entries.forEach(entry => {\n      const { target } = entry;\n      if (entry.isIntersecting && this.elementMap.has(target)) {\n        const callback = this.elementMap.get(target);\n        if (!callback) return;\n\n        clearTimeout(this.debounceExecute);\n        this.debounceExecute = window.setTimeout(() => {\n          callback();\n        }, 1000);\n\n        if (this.observer) this.observer.unobserve(target);\n      }\n    });\n  }\n}\n\nexport let completeSectionObserver: SectionObserver | undefined;\nexport let halfSectionObserver: SectionObserver | undefined;\nexport let minSectionObserver: SectionObserver | undefined;\nexport let rankSectionObserver: SectionObserver | undefined;\n\nexport function registCompleteSectionObserver(ref: RefObject<any>, callback: Function) {\n  if (!__CLIENT__) {\n    throw new Error('[registCompleteSectionObserver()] should be invoked on client side.');\n  }\n  if (!completeSectionObserver) completeSectionObserver = new SectionObserver(false, Threshold.FULL);\n  completeSectionObserver.sectionObserve(ref, callback);\n  return () => {\n    completeSectionObserver!.sectionUnobserve(ref);\n  };\n}\n\nexport function registHalfSectionObserver(ref: RefObject<any>, callback: Function) {\n  if (!__CLIENT__) {\n    throw new Error('[registHalfSectionObserver()] should be invoked on client side.');\n  }\n\n  if (!halfSectionObserver) halfSectionObserver = new SectionObserver(false, Threshold.HALF);\n  halfSectionObserver.sectionObserve(ref, callback);\n  return () => {\n    halfSectionObserver!.sectionUnobserve(ref);\n  };\n}\n\nexport function registMinSectionObserver(ref: RefObject<any>, callback: Function) {\n  if (!__CLIENT__) {\n    throw new Error('[registMinSectionObserver()] should be invoked on client side.');\n  }\n\n  if (!minSectionObserver) minSectionObserver = new SectionObserver(false, Threshold.MIN);\n  minSectionObserver.sectionObserve(ref, callback);\n  return () => {\n    minSectionObserver!.sectionUnobserve(ref);\n  };\n}\n\nexport function registRankSectionObserver(ref: RefObject<any>, callback: Function) {\n  if (!__CLIENT__) {\n    throw new Error('[registRankSectionObserver()] should be invoked on client side.');\n  }\n\n  if (!rankSectionObserver) rankSectionObserver = new SectionObserver(true, Threshold.FULL);\n  rankSectionObserver.sectionObserve(ref, callback);\n  return () => {\n    rankSectionObserver!.sectionUnobserve(ref);\n  };\n}\n\nexport function resetSectionObserverStatus() {\n  if (completeSectionObserver) completeSectionObserver.resetSectionObserver();\n  if (halfSectionObserver) halfSectionObserver.resetSectionObserver();\n  if (minSectionObserver) minSectionObserver.resetSectionObserver();\n  if (rankSectionObserver) rankSectionObserver.resetSectionObserver();\n}\n","import { RefObject, useEffect } from 'react';\nimport { History } from 'history';\nimport { DefaultSource } from './Source';\n\nimport {\n  registCompleteSectionObserver,\n  registHalfSectionObserver,\n  registMinSectionObserver,\n  registRankSectionObserver,\n  resetSectionObserverStatus,\n} from './Observer';\n\nexport function useCompleteSectionTracking(ref: RefObject<any>, callback: Function) {\n  useEffect(() => {\n    if (ref.current === null) return;\n    return registCompleteSectionObserver(ref, callback);\n  });\n}\n\nexport function useHalfSectionTracking(ref: RefObject<any>, callback: Function) {\n  useEffect(() => {\n    if (ref.current === null) return;\n    return registHalfSectionObserver(ref, callback);\n  });\n}\n\nexport function useMinSectionTracking(ref: RefObject<any>, callback: Function) {\n  useEffect(() => {\n    if (ref.current === null) return;\n    return registMinSectionObserver(ref, callback);\n  });\n}\n\nexport function useRankSectionTracking(ref: RefObject<any>, callback: Function) {\n  useEffect(() => {\n    if (ref.current === null) return;\n    return registRankSectionObserver(ref, callback);\n  });\n}\n\nexport function usePageTransitionListener(trackingSource: DefaultSource, history: History) {\n  useEffect(() => {\n    // Regist history (for page_view & screen_view)\n    trackingSource.spyTransition(history);\n    history.listen(() => {\n      resetSectionObserverStatus();\n    });\n  }, [history]);\n}\n","import {\n  EVENT_NAME_CLICK,\n  EVENT_NAME_ENTER,\n  EVENT_NAME_LEAVE,\n  EVENT_NAME_SEARCH,\n  EVENT_NAME_SECTION_VIEW,\n  CATEGORY_DEFAULT,\n  ACTION_BUTTON_CLICK,\n  ACTION_TAB_CLICK,\n  ACTION_PROFILE_CLICK,\n  ACTION_LINK_CLICK,\n  ACTION_ENTER,\n} from './utils/constants';\n\nimport { TrackingEvent } from './types';\n\ntype EventAction = Omit<TrackingEvent, 'type'>;\ntype SectionName = 'buttons' | 'duration' | 'gifts' | 'searchBar' | 'tabs' | 'description' | 'timeline' | 'topStreamer';\ntype ProfileName = 'topavatar' | 'avatar';\n\nexport function createButtonClickAction(buttonName: string, link: string): EventAction {\n  return {\n    eventName: EVENT_NAME_CLICK,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_BUTTON_CLICK,\n      name: buttonName,\n      page: link,\n    },\n  };\n}\n\nexport function createPageEnterAction(\n  utmCampaign: string,\n  utmContent: string,\n  utmMedium: string,\n  utmSource: string,\n): EventAction {\n  return {\n    eventName: EVENT_NAME_ENTER,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      utmCampaign,\n      utmContent,\n      utmMedium,\n      utmSource,\n    },\n  };\n}\n\nexport function createPageLeaveAction(): EventAction {\n  return {\n    eventName: EVENT_NAME_LEAVE,\n    category: CATEGORY_DEFAULT,\n  };\n}\n\nexport function createTabClickAction(link: string, tabName: string): EventAction {\n  return {\n    eventName: EVENT_NAME_CLICK,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_TAB_CLICK,\n      page: link,\n      name: tabName,\n    },\n  };\n}\n\nexport function createProfileClickAction(userID: string, liveStatus: boolean, profileType: ProfileName): EventAction {\n  return {\n    eventName: EVENT_NAME_CLICK,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_PROFILE_CLICK,\n      type: profileType,\n      streamerId: userID,\n      liveStatus: liveStatus,\n      leaderboardId: '',\n      hasDeeplink: false,\n    },\n  };\n}\n\nexport function createSearchAction(keyword: string, count: number): EventAction {\n  return {\n    eventName: EVENT_NAME_SEARCH,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      searchString: keyword,\n      resultCount: count,\n    },\n  };\n}\n\nexport function createVoteAction(voteTopic: string): EventAction {\n  return {\n    eventName: EVENT_NAME_CLICK,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_BUTTON_CLICK,\n      name: voteTopic,\n      type: 'vote',\n    },\n  };\n}\n\nexport function createLeaderboardSectionViewAction(rank: number): EventAction {\n  return {\n    eventName: EVENT_NAME_SECTION_VIEW,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_ENTER,\n      section: 'leaderboardItem',\n      rank,\n    },\n  };\n}\n\nexport function createLinkClickAction(link: string, linkName: string): EventAction {\n  return {\n    eventName: EVENT_NAME_CLICK,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_LINK_CLICK,\n      url: link,\n      name: linkName,\n    },\n  };\n}\n\nexport function createSectionViewAction(section: SectionName, customPath?: string): EventAction {\n  return {\n    eventName: EVENT_NAME_SECTION_VIEW,\n    category: CATEGORY_DEFAULT,\n    trackingParams: {\n      action: ACTION_ENTER,\n      section,\n      // For customized event to use.\n      customPath,\n    },\n  };\n}\n"],"names":["setPrototypeOf","assertThisInitialized","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","type","call","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","value","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","key","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","object.convertParamsToSankecase","object.trim","has","isArray","Array","hexTable","array","toUpperCase","compactQueue","queue","item","prop","compacted","j","arrayToObject","source","options","plainObjects","merge","target","allowPrototypes","concat","mergeTarget","targetItem","reduce","acc","assign","assignSingleSource","decode","str","decoder","charset","strWithoutPlus","replace","unescape","decodeURIComponent","e","encode","defaultEncoder","string","String","escape","$0","parseInt","out","c","charCodeAt","compact","o","refs","val","indexOf","isRegExp","isBuffer","combine","a","b","maybeMap","mapped","module","percentTwenties","Format","RFC1738","RFC3986","util","formatters","toISO","Date","toISOString","defaultFormat","formats","defaults","addQueryPrefix","allowDots","charsetSentinel","delimiter","encoder","utils","encodeValuesOnly","format","formatter","indices","serializeDate","date","skipNulls","strictNullHandling","arrayLimit","comma","depth","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","numberStr","fromCharCode","parseArrayValue","split","isoSentinel","parseValues","parseQueryStringValues","cleanStr","limit","Infinity","parts","skipIndex","part","bracketEqualsPos","pos","encodedVal","parseObject","chain","valuesParsed","leaf","root","cleanRoot","index","parseKeys","parseQueryStringKeys","givenKey","brackets","child","segment","exec","parent","normalizeParseOptions","opts","tempObj","newObj","parse","stringify","rnds8Pool","Uint8Array","poolPtr","rng","crypto","randomFillSync","validate","uuid","REGEX","test","byteToHex","substr","arr","offset","toLowerCase","v4","buf","rnds","random","qs","dom.getContent","dom.guessRole","Threshold","window","IntersectionObserverEntry","defineProperty","get","intersectionRatio","document","registry","crossOriginUpdater","crossOriginRect","time","rootBounds","ensureDOMRect","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","Number","toFixed","IntersectionObserver","callback","opt_options","nodeType","_checkForIntersections","throttle","bind","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","map","margin","unit","join","_monitoringDocuments","_monitoringUnsubscribes","POLL_INTERVAL","USE_MUTATION_OBSERVER","_setupCrossOriginUpdater","convertFromParentRect","observer","_resetCrossOriginUpdater","observe","isTargetAlreadyObserved","some","element","_registerInstance","_monitorIntersections","ownerDocument","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","_unmonitorAllIntersections","takeRecords","records","opt_threshold","sort","t","opt_rootMargin","marginString","margins","parseFloat","doc","win","defaultView","monitoringInterval","domObserver","setInterval","addEvent","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","frame","getFrameElement","rootDoc","hasDependentTargets","itemDoc","unsubscribe","splice","unsubscribes","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","now","_hasCrossedThreshold","getComputedStyle","display","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","body","documentElement","overflow","computeRectIntersection","html","top","left","right","clientWidth","bottom","clientHeight","_expandRectByRootMargin","rect","newRect","oldRatio","newRatio","containsDeep","performance","timeout","timer","setTimeout","node","event","opt_useCapture","addEventListener","attachEvent","removeEventListener","detatchEvent","rect1","rect2","Math","max","min","el","y","x","parentBoundingRect","parentIntersectionRect","parentNode","host","assignedSlot","frameElement","completeSectionObserver","halfSectionObserver","minSectionObserver","rankSectionObserver","useEffect"],"mappings":"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"}